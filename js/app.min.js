/*!
 * GardenApp
 */
angular.module("GardenApp",[]).controller("gardenCtrl",["$scope","$http","$filter",function(t,e,a){var r=this,o="",i="4874c7d1304dee63c10ffb045c76da1b";r.today={summary:"",precipProbability:"",reminderMsg:""},r.setted={cityName:"",currentLocation:"",waterHourString:"",waterHour:""};var n=function(t,a,i){e.jsonp("https://api.darksky.net/forecast/"+t+"/"+a+"?&lang=es&units=si&callback=JSON_CALLBACK").then(function(t){o=t.data,r.today.summary=o.daily.data[0].summary,r.today.precipProbability=o.daily.data[0].precipProbability,u(),"function"==typeof i&&i(o)},function(t){console.log("Algo salio mal. Status: ",t.status,"statusText: ",t.statusText)})},s=function(t){r.setted.waterHour=new Date(1e3*t.daily.data[0].sunsetTime),r.setted.waterHourString=a("date")(r.setted.waterHour,"HH:mm"),l(r.setted.waterHour)},d=function(t){r.setted.cityName="Ap√≥stoles, Misiones",r.setted.currentLocation="-27.9218,-55.7542",t(i,r.setted.currentLocation,s)},u=function(){0===r.today.precipProbability?r.today.reminderMsg="No te olvides de regar las plantas":r.today.reminderMsg="Hoy hay probabilidades de lluvia"},c=function(t){setTimeout(function(){alert(r.today.reminderMsg)},t)},l=function(t){var e=new Date,a=t-e;c(a)};d(n)}]);